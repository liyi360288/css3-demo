<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.js"></script> 
    <title>Document</title>
    <style>
        .error{
            display: none;
            color: #f00;
        }
    </style>
</head>
<body>
    <form action="reg.php" method="get">
        <p>
            用户名：
        </p>
        <p>
            <input type="text" name="username" class="auth">
            <span class="error">您输入的用户名长度不正确</span>
        </p>
        <p>
            密码：
        </p>
        <p>
            <input type="password" name="password" class="auth">
            <span class="error">您输入的密码长度不正确，至少8位数</span>
        </p>
        <p>
            再次输入密码：
        </p>
        <p>
            <input type="password" name="repassword" class="auth">
            <span class="error">您输入的2次密码不一致</span>
        </p>
        <p>
            <input type="submit" value="提交">
        </p>
    </form>


    <script>
        $('input[name=username]').blur(function(){
            val=this.value;
            if(val.length<6){
                $(this).data({'s':0});
                $(this).next().show();
            }else{
                $(this).data({'s':1});
                $(this).next().hide();
            }
        });
        $('input[name=password]').blur(function(){
            val=this.value;
            if(val.length<8){
                $(this).data({'s':0});
                $(this).next().show();
            }else{
                $(this).data({'s':1});
                $(this).next().hide();
            }
        });
        $('input[name=repassword]').blur(function(){
            val=this.value;
            valu=$('input[name=password]').val();
            if(val!=valu){
                $(this).data({'s':0});
                $(this).next().show();
            }else{
                $(this).data({'s':1});
                $(this).next().hide();
            }
        });
        $('form').submit(function(){
            add=0;
            $('.auth').each(function(){
                add+=$(this).data('s');
            });
            if(add!=3){
                return false;
            }
            else{
                return true;
            }
            
        });
    </script>
</body>
</html>